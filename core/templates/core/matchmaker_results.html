{% extends "base.html" %}
{% load static %}

{% block title %}Results - Friend Fitter{% endblock title %}

{% block content %}
<div class="container mx-auto p-6">
    <h1 class="text-3xl font-bold mb-4">Matchmaker Results</h1>

    <div class="card lg:card-side bg-base-100 shadow-xl border border-primary mb-8">
        <div class="card-body">
            <h2 class="card-title text-secondary">Matching: {{ pattern.name }}</h2>
            <p>Using: <strong>{{ fabric.name }}</strong> ({{ fabric.width_inches }}" x {{ fabric.length_inches }}")</p>
        </div>
    </div>

    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
        {% for match in matches %}
        <div class="card bg-success text-success-content shadow-md">
            <div class="card-body">
                <h2 class="card-title">{{ match.friend.get_full_name|default:match.friend.username }}</h2>
                <p>You can make this in a <strong>{{ match.size_label }}</strong>!</p>
                <div class="text-xs opacity-70">Measurements as of: {{ match.last_updated|date:"M d, Y" }}</div>
                <div class="card-actions justify-end">
                    <button class="btn btn-sm btn-outline">Start Project</button>
                </div>
            </div>
        </div>
        {% empty %}
        <div class="alert alert-error">
            <span>No friends currently fit this pattern with the available fabric dimensions.</span>
        </div>
        {% endfor %}
    </div>
</div>
{% endblock content %}